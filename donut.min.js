(function(f,m){"function"===typeof define&&define.amd?define(m):f.donut=m()})(this,function(){var f=document,m=Math,x=9>f.documentMode,r={},y=0,t=function(a){var d=f.createElement("div"),e=a.size||100,g=a.data||[{value:1}],n=a.weight||20,u=a.colors||["#555"],r=a.el,h=e/2,c=m.PI,s=m.sin,z=m.cos,v=0,b,k;for(b=0;b<g.length;b++)v+=g[b].value;d.className="donut";d.style.width=d.style.height=e+"px";if(x){var e=e-n,h=void 0!==a.fault?a.fault:n/e*3,l=-h;for(b=0;b<g.length;b++){k=g[b].value/v;a=f.createElement("<v:arc>");
c=f.createElement("<v:fill>");c.opacity=0;a.appendChild(c);c=a.style;c.top=c.left=n/2+"px";c.width=c.height=e+"px";c=a;s={startangle:l-h,endangle:l=l+360*k+h,strokecolor:u[b%u.length],fillcolor:"none",strokeweight:n+"px","data-name":g[b].name,"class":"donut-arc"};for(j in s)c.setAttribute(j,s[j]);t.data(a,g[b]);d.appendChild(a)}}else{var w=f.createElementNS("http://www.w3.org/2000/svg","svg"),l=-c/2,p=h-n/2;w.setAttribute("height",e+"px");w.setAttribute("width",e+"px");d.appendChild(w);for(b=0;b<
g.length;b++){k=g[b].value/v;k=1===k?.9999:k;a=f.createElementNS("http://www.w3.org/2000/svg","path");var q=k*c*2+l,e=(q-l)%(2*c)>c?1:0;k=h+z(l)*p;var y=h+s(l)*p,A=h+z(q)*p,B=h+s(q)*p,l=q,q=a,e={d:["M",k,y,"A",p,p,0,e,1,A,B].join(" "),stroke:u[b%u.length],"stroke-width":n,fill:"none","data-name":g[b].name,"class":"donut-arc"};for(j in e)q.setAttribute(j,e[j]);t.data(a,g[b]);w.appendChild(a)}}r&&r.appendChild(d);return d};x&&(f.namespaces.add("v","urn:schemas-microsoft-com:vml"),f.createStyleSheet().cssText=
"v\\:arc,v\\:fill{behavior:url(#default#VML);display:inline-block;position:absolute;}");t.data=function(a,d){if("undefined"===typeof d)return r[a._DONUT];r[a._DONUT=a._DONUT||++y]=d;return a};t.setColor=function(a,d){x?a.strokecolor=d:a.setAttribute("stroke",d);return a};return t});
